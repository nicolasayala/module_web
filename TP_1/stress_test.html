<html>
	<head>
		<meta charset="utf-8"/>
		<script src="square.js"></script>

		<script>
			var squaresCount = 200;
			var squareIndex = 0;
			var squares = [];
			var canvas;
			var context;			
			var startInterval;

			function update() {
				for (i = 0; i < 5; i++) {
					var x = Math.random() * canvas.width;
					var dy = Math.random() * 3;
					var size = 1 + Math.random() * 6;
					squares.push(new Square(context, size, size, "rgb(255,255,255)", x, 0, 0, dy));	
				}
				this.context.fillStyle = "rgb(0, 0, 0)";
				context.fillRect(0, 0, canvas.width, canvas.height);
				for (i = 0; i < squares.length; i++) {
					squares[i].update();			
				}
			}



			function init() {
				canvas = document.getElementById("canvas");
				canvas.width = window.innerWidth;
				canvas.height = window.innerHeight;
				context = canvas.getContext("2d");
				setInterval(update, 10);
			}
		</script>
	</head>

	<body id="body" onload="init()">
		<canvas id="canvas" width="400" height="400"></canvas>
	</body>	
</html>
